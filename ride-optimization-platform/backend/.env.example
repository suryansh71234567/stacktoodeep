# =============================================================================
# Ride Optimization Platform - Environment Variables
# =============================================================================
# Copy this file to .env and update values for your environment
# NEVER commit .env to version control!
# =============================================================================

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
APP_NAME="Ride Optimization Platform"
API_V1_PREFIX="/api/v1"

# Enable debug mode for development (shows detailed errors, enables hot reload)
# WARNING: Set to false in production!
DEBUG=true

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
# PostgreSQL connection URL
# Format: postgresql+asyncpg://user:password@host:port/database
DATABASE_URL="postgresql+asyncpg://postgres:postgres@localhost:5432/ride_optimization"

# Connection pool settings
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10

# -----------------------------------------------------------------------------
# Redis Configuration
# -----------------------------------------------------------------------------
# Redis URL for caching optimization results
REDIS_URL="redis://localhost:6379/0"

# Cache expiry time in seconds (5 minutes default)
CACHE_TTL_SECONDS=300

# -----------------------------------------------------------------------------
# OSRM Routing API
# -----------------------------------------------------------------------------
# Public demo server - replace with self-hosted for production
OSRM_BASE_URL="http://router.project-osrm.org"
OSRM_TIMEOUT_SECONDS=10

# -----------------------------------------------------------------------------
# Optimization Parameters
# -----------------------------------------------------------------------------
# Maximum detour allowed when pooling rides (minutes)
MAX_DETOUR_MINUTES=15

# Maximum passengers per vehicle
MAX_PASSENGERS_PER_VEHICLE=4

# Solver timeout (seconds) - prevents infinite loops
OPTIMIZATION_TIMEOUT_SECONDS=30

# Maximum distance between pickups for pooling (km)
MAX_PICKUP_DISTANCE_KM=2.0

# Minimum time window overlap for pooling (minutes)
MIN_TIME_OVERLAP_MINUTES=10

# -----------------------------------------------------------------------------
# Pricing Configuration
# -----------------------------------------------------------------------------
BASE_FARE=50.0
PER_KM_RATE=12.0
PER_MINUTE_RATE=2.0
MAX_FLEXIBILITY_DISCOUNT_PERCENT=40.0

# -----------------------------------------------------------------------------
# External APIs (Optional)
# -----------------------------------------------------------------------------
# MAPS_API_KEY=your_api_key_here

# -----------------------------------------------------------------------------
# Blockchain Configuration (For Auction System)
# -----------------------------------------------------------------------------
# Ethereum RPC URL - local Hardhat node or testnet
BLOCKCHAIN_RPC_URL=http://localhost:8545

# Deployed contract addresses (get these from deploy.js output)
RIDE_AUCTION_ADDRESS=0x84eA74d481Ee0A5332c457a4d796187F6Ba67fEB
PAYMENT_EXECUTOR_ADDRESS=0x9E545E3C0baAB3E08CdfD552C960A1050f373042

# Admin wallet private key (for signing createAuction/finalizeAuction)
# WARNING: Never commit real private keys! This is Hardhat's default test key.
ADMIN_PRIVATE_KEY=0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80

# -----------------------------------------------------------------------------
# Whitelisted Bidding Companies (Reference Only - hardcoded in smart contract)
# -----------------------------------------------------------------------------
# RideShare Alpha:    0x70997970C51812dc3A010C7d01b50e0d17dc79C8
# QuickCab Beta:      0x3C44CdDdB6a900fa2b585dd299e03d12FA4293BC
# MetroRides Gamma:   0x90F79bf6EB2c4f870365E785982E1f101E93b906
# CityWheels Delta:   0x15d34AAf54267DB7D7c367839AAf71A00a2C6A65
